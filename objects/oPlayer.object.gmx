<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sPlayer_Idle</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>sPlayer_Idle</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Création du joueur et ces variable

image_speed = 0.1

spd = 3
hspd = 0
vspd = 0
jspd = 16
hp = 250 // vie 
maxHp = 250 // vie maximal
argent = 1200
maxArgent = 75000

jumped = false; // Quand l'ont fait un saut

BulletCooldown = 0 // Colldown Animation Tête

LaserCount = 120 
LaserCooldown = 0 // Cooldown Laser
LaserCooldownMax = 240 // Cooldown Laser maximal
LaserActive = 0
instance_create(x,y, oLaser)

CapillarCount = 30
CapillarCooldown = 0 // Cooldown Cheveux
CapillarCooldownMax = 240 // Cooldown Cheveux Max
CapillarActive = 0
instance_create(x,y, oCapillar)

FlameCount = 90 
FlameCooldown = 0 // Cooldown Flame
FlameCooldownMax = 360 // Cooldown Flame maximal
FlameActive = 0
instance_create(x,y, oLaser)

tete_index = 0
head_angle = 0
head_offset = 50

outMap = false
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Animation et autre

/* Image X Scale*/
if (!playerDead){
    head_angle = point_direction(x,y-head_offset,mouse_x,mouse_y)
    
    if (mouse_x &lt; x) {
        image_xscale = -1
    } else {
        image_xscale = 1
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Mouvement du joueur

keyLeft = keyboard_check(ord("A")) or keyboard_check(ord("Q"))
keyRight = keyboard_check(ord("D"))
keyJump = keyboard_check_pressed(vk_space)
keyFire = mouse_check_button_pressed(mb_left)
keyLaser = mouse_check_button_pressed(mb_right)
keyCapillar = keyboard_check_pressed(ord("E"))
keyFlame = keyboard_check_pressed(ord("F"))

/* Skin de tête */
head_skin = sDtTete
if (LaserActive==1){head_skin = sDtTeteLaser}
/* Cooldown Bullet */
if (BulletCooldown&gt;0){BulletCooldown-- head_skin = sDtTeteCrache}
/* Cooldown Laser */
if (LaserCooldown&gt;0){LaserCooldown--}
/* Cooldown Cheveux */
if (CapillarCooldown&gt;0){CapillarCooldown--}
/* Cooldown Cheveux */
if (FlameCooldown&gt;0){FlameCooldown--}

if (!playerDead){
    /* Graviter et saut */
    if (y &lt; 608-70) {
        sprite_index = sPlayer_Jump
    
        if ( vspd &lt; 16 ) {
            vspd += 1
        }
    } else {
        vspd = 0
        
        outMap = false
        
        if (jumped){
            audio_play_sound(sound26_Trump_banbangbingbing2 ,0,0)
            for(i=0;i&lt;=15;i++){instance_create(x,y+70,oPartSmoke)}
            instance_create(x,y+70,oDropArea)
            oCamera.shake = 12
            inst = instance_create(x,604,oPartSplash)
            jumped = false
        }
        
        if (keyJump){
            audio_play_sound(sound23_Trump_woua,0,0)
            vspd = -jspd
            jumped = true
        }
    }
    
    /* Touche directionnel */
    if (vspd == 0 &amp;&amp; !outMap){
        if (keyLeft) { hspd = -spd sprite_index = sPlayer_Walk image_speed = 0.2}
        if (keyRight) { hspd = spd sprite_index = sPlayer_Walk image_speed = 0.2}
        if (!keyLeft &amp;&amp; !keyRight) || (keyLeft &amp;&amp; keyRight) { hspd = 0 sprite_index = sPlayer_Idle image_speed = 0.1}
    }
    
    /* Tirer les projectils */
    if (keyFire) {
        if (argent &gt; 0) {
            if (audio_is_playing(sound25_Trump_kechinkechin2)){
                audio_stop_sound(sound25_Trump_kechinkechin2)
                audio_play_sound(sound25_Trump_kechinkechin2,0,0)
            } else {
                audio_play_sound(sound25_Trump_kechinkechin2,0,0)
            }
            bullet = instance_create(x,y-head_offset,oBullet)
            bullet.image_angle = head_angle
            argent -= 2+round(playerScore/100)
            BulletCooldown+=8
        }
    }
    
    /* Tir Laser */
    if (keyLaser) &amp;&amp; (LaserCooldown&lt;1) &amp;&amp; (!LaserActive){
        LaserActive=1
        audio_play_sound(snd_ImRich,0,0)
        head_skin=sDtTeteLaser
    }
    
    if (LaserActive == 1){
        instance_activate_object(oLaser)
    } else {
        instance_deactivate_object(oLaser)
    }
    
    /* Tir Capillaire */
    if (keyCapillar) &amp;&amp; (CapillarCooldown&lt;1) 
        {CapillarActive=1
        audio_play_sound(sound19_Trump_lalala,0,0)}
    if (CapillarActive == 1)
        {instance_activate_object(oCapillar)}
        else{instance_deactivate_object(oCapillar)}
    
    /* Tir Bullet Thrower */
    if ((keyFlame) || (FlameActive = 1)) &amp;&amp; (FlameCount&gt;0) &amp;&amp; (FlameCooldown&lt;1) {
        if (argent &gt; 0) {
            if (!audio_is_playing(sound16_Trump_eeuueueueu)){
                audio_play_sound(sound16_Trump_eeuueueueu,0,0)}
            head_skin = sDtTeteCrache
            FlameActive=1
            FlameCount--
            if(FlameCount==0){FlameCooldown=360; FlameCount=90; FlameActive = 0}
            bullet = instance_create(x,y-head_offset+(random_range(-25,25)),oBullet)
            bullet.image_angle = head_angle+random_range(-100,100)
            argent -= 1+round(playerScore/100)
            
        }
    }
        
            
    /* Collision */
    if (place_meeting(x+hspd,y,oSolid)){
        while (!place_meeting(x+sign(hspd),y,oSolid)){
            x += hspd
        }
        hspd = 0
    }
    
    if (x &lt; view_xview) {
        vspd = -20
        hspd = 5
        outMap = true
    }
    
    /*
    if (place_meeting(x,y+vspd,oSolid)){
        while (!place_meeting(x,y+sign(vspd),oSolid)){
            y += vspd
        }
        vspd = 0
        y = round(y)
    }
    */
    x += hspd
    y += vspd
    
    if (argent &gt; maxArgent) {
        argent = maxArgent
    }
} else {
    head_skin = sDtTeteDommage
    if (y &lt; 608) {
    
        if ( vspd &lt; 16 ) {
            vspd += 1
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Affiche les têtes du joueur et Laser

// Laser
if (LaserActive==1) &amp;&amp; (LaserCount &gt; 0){
draw_set_color(c_white)
draw_line_width(x+lengthdir_x(0,image_angle),y-head_offset-40+lengthdir_y(0,image_angle),mouse_x,mouse_y,random_range(6,9))
draw_set_color(c_red)
draw_line_width(x+lengthdir_x(0,image_angle),y-head_offset-40+lengthdir_y(0,image_angle),mouse_x,mouse_y,random_range(2,4))
draw_set_color(c_white)

LaserCount--
if(LaserCount==0){LaserCooldown=240}
} else {LaserCount=120; LaserActive=0}


// Tête
if (!playerDead){
    draw_self()
    draw_sprite_ext(head_skin,tete_index,x+(image_xscale*5),y-head_offset,1,image_xscale,head_angle,c_white,1)
} else {
    draw_sprite_ext(sprite_index,0,x,y,1,1,90,c_white,1)
    draw_sprite_ext(head_skin,0,x-head_offset,y,1,1,90,c_white,1)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
